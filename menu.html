<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Administrativo</title>
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="menu.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <button class="hamburger" id="mobile-menu-btn" aria-label="Abrir menú">
                    <i class='bx bx-menu'></i>
                </button>
                <h1 class="header-title" data-i18n="admin_panel_title">Panel Administrativo</h1>
            </div>
            
            <div class="header-right">
                <div class="language-toggle">
                    <label class="toggle-container">
                        <span class="toggle-label">ES</span>
                        <input type="checkbox" id="language-toggle">
                        <span class="slider"></span>
                        <span class="toggle-label">EN</span>
                    </label>
                </div>
                <button class="logout-btn" data-i18n="logout">
                    <i class='bx bx-log-out'></i>
                    <span>Salir</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-content">
            <nav class="nav">
                <button class="nav-btn" data-section="accesos">
                    <i class='bx bx-history'></i>
                    <span data-i18n="access_history">Historial de Accesos</span>
                </button>
                
                <button class="nav-btn" data-section="empleados">
                    <i class='bx bx-group'></i>
                    <span data-i18n="employee_management">Gestión de Empleados</span>
                </button>
                
                <button class="nav-btn" data-section="autorizaciones">
                    <i class='bx bx-check-shield'></i>
                    <span data-i18n="authorizations">Autorizaciones</span>
                </button>
                
                <button class="nav-btn" data-section="estadisticas">
                    <i class='bx bx-bar-chart-alt-2'></i>
                    <span data-i18n="statistics">Estadísticas</span>
                </button>
            </nav>
        </div>
    </aside>

    <!-- Mobile Sidebar -->
    <div class="mobile-sidebar-overlay" id="mobile-sidebar-overlay"></div>

    <!-- CONTENIDO MAIN -->
    <main class="main-content">
        <!-- Historial de Accesos  -->
        <section id="accesos" class="content-section active">
            <div class="section-header">
                <h2 data-i18n="access_history_title">Historial de Ingresos/Egresos</h2>
                <div class="section-actions">
                    <button id="refresh-records-btn" class="btn btn-secondary">
                        <i class='bx bx-refresh'></i>
                        <span data-i18n="refresh_records">Actualizar Registros</span>
                    </button>
                </div>
            </div>

            <!-- TARJETAS DE ESTADISTICAS -->
            <div class="stats-grid">
                <div class="stat-card inside">
                    <div class="stat-icon">
                        <i class='bx bx-user-check'></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="people-inside-count">0</h3>
                        <p data-i18n="inside">Dentro</p>
                    </div>
                </div>
                
                <div class="stat-card outside">
                    <div class="stat-icon">
                        <i class='bx bx-user-x'></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="people-outside-count">0</h3>
                        <p data-i18n="outside">Fuera</p>
                    </div>
                </div>
            </div>

            <!-- FILTROS -->
            <div class="filters-card">
                <h3 data-i18n="filters_title">Filtros</h3>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label for="filter-by-name" data-i18n="filter_label_name">Nombre</label>
                        <input type="text" id="filter-by-name" data-i18n-placeholder="filter_placeholder_name">
                    </div>
                    
                    <div class="filter-group">
                        <label for="filter-by-id" data-i18n="filter_label_id">Legajo</label>
                        <input type="text" id="filter-by-id" data-i18n-placeholder="filter_placeholder_id">
                    </div>
                    
                    <div class="filter-group">
                        <label for="filter-by-shift" data-i18n="filter_label_shift">Turno</label>
                        <select id="filter-by-shift">
                            <option value="" data-i18n="all_shifts">Todos los turnos</option>
                            <option value="Mañana" data-i18n="shift_morning">Mañana</option>
                            <option value="Tarde" data-i18n="shift_afternoon">Tarde</option>
                            <option value="Noche" data-i18n="shift_night">Noche</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="filter-by-type" data-i18n="filter_label_type">Tipo</label>
                        <select id="filter-by-type">
                            <option value="" data-i18n="all_types">Todos los tipos</option>
                            <option value="ingreso" data-i18n="entry_type">Ingreso</option>
                            <option value="egreso" data-i18n="exit_type">Egreso</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="filter-by-date" data-i18n="filter_label_date">Fecha</label>
                        <input type="date" id="filter-by-date">
                    </div>
                    
                    <div class="filter-group">
                        <button id="clear-filters-btn" class="btn btn-outline">
                            <i class='bx bx-x'></i>
                            <span data-i18n="clear_filters">Limpiar Filtros</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- TABLA DE ACCESOS -->
            <div class="table-card">
                <div class="table-container">
                    <table class="records-table">
                        <thead>
                            <tr>
                                <th data-i18n="date">Fecha</th>
                                <th data-i18n="employee">Empleado/a</th>
                                <th data-i18n="code">Legajo</th>
                                <th data-i18n="type">Tipo</th>
                                <th data-i18n="status">Estado</th>
                            </tr>
                        </thead>
                        <tbody id="records-tbody">
                            <!-- Los accesos se cargan aqui -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- EMPLEADOS -->
        <section id="empleados" class="content-section">
            <div id="empleados-main-view">
                <div class="section-header">
                    <h2 data-i18n="employee_management">Gestión de Empleados</h2>
                    <div class="section-actions">
                        <button id="btn-nuevo-empleado" class="btn btn-primary">
                            <i class='bx bx-user-plus'></i>
                            <span data-i18n="register_new_employee">Registrar Nuevo Empleado</span>
                        </button>
                        <button id="btn-carga-manual" class="btn btn-secondary">
                            <i class='bx bx-edit'></i>
                            <span data-i18n="manual_access_charge">Carga de Acceso Manual</span>
                        </button>
                    </div>
                </div>

                <!-- FILTROS DE EMPANADAS -->
                <div class="filters-card">
                    <h3 data-i18n="employee_filters_title">Filtros de Empleados</h3>
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label for="filter-employee-by-role" data-i18n="filter_label_role">Rol</label>
                            <select id="filter-employee-by-role">
                                <option value="" data-i18n="all_roles">Todos los roles</option>
                                <option value="Operario" data-i18n="role_operator_label">Operario</option>
                                <option value="Analista" data-i18n="role_analyst_label">Analista</option>
                                <option value="Supervisor" data-i18n="role_supervisor_label">Supervisor</option>
                                <option value="Gerente" data-i18n="role_manager_label">Gerente</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="filter-employee-by-shift" data-i18n="filter_label_shift">Turno</label>
                            <select id="filter-employee-by-shift">
                                <option value="" data-i18n="all_shifts">Todos los turnos</option>
                                <option value="Mañana" data-i18n="shift_morning">Mañana</option>
                                <option value="Tarde" data-i18n="shift_afternoon">Tarde</option>
                                <option value="Noche" data-i18n="shift_night">Noche</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="filter-employee-by-menu-access" data-i18n="filter_label_menu_access">Acceso al Menú</label>
                            <select id="filter-employee-by-menu-access">
                                <option value="" data-i18n="all_access_levels">Todos los niveles</option>
                                <option value="true" data-i18n="with_menu_access">Con Acceso al Menú (Nivel 3+)</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <button id="clear-employee-filters-btn" class="btn btn-outline">
                                <i class='bx bx-x'></i>
                                <span data-i18n="clear_filters">Limpiar Filtros</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- LISTA DE EMPLEADOS -->
                <div class="employees-grid" id="empleados-list">
                    <!-- Los empleados se cargan aquí -->
                </div>
            </div>

            <!-- REGISTRO DE EMPLEADO -->
            <div id="register-screen" class="register-screen">
                <div class="form-card">
                    <div class="form-header">
                        <h2 data-i18n="new_user_registration_title">Registro de Nuevo Usuario</h2>
                        <button id="back-to-employees" class="btn btn-outline">
                            <i class='bx bx-arrow-back'></i>
                            <span data-i18n="back">Volver</span>
                        </button>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="operator-code" data-i18n="employee_code_label">Legajo:</label>
                            <input type="text" id="operator-code" required>
                        </div>

                        <div class="form-group">
                            <label for="operator-name" data-i18n="name_label">Nombre:</label>
                            <input type="text" id="operator-name" required>
                        </div>

                        <div class="form-group">
                            <label for="operator-surname" data-i18n="surname_label">Apellido:</label>
                            <input type="text" id="operator-surname" required>
                        </div>

                        <div class="form-group">
                            <label for="operator-dni">DNI:</label>
                            <input type="text" id="operator-dni" required>
                        </div>

                        <div class="form-group">
                            <label for="operator-email">Email:</label>
                            <input type="email" id="operator-email" required>
                        </div>

                        <div class="form-group">
                            <label for="operator-role" data-i18n="role_label">Rol:</label>
                            <select id="operator-role" required>
                                <option value="" data-i18n="select_role">Seleccione un rol...</option>
                                <option value="1">Operario (Nivel 1)</option>
                                <option value="2">Analista (Nivel 2)</option>
                                <option value="3">Supervisor (Nivel 3)</option>
                                <option value="4">Gerente (Nivel 4)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="operator-zone" data-i18n="zone_label">Zona Asignada:</label>
                            <select id="operator-zone" multiple required>
                                <option value="Recepcion">Recepción</option>
                                <option value="Almacenamiento">Almacenamiento</option>
                                <option value="Procesamiento">Procesamiento</option>
                                <option value="Conservacion">Conservación</option>
                                <option value="Despacho">Despacho</option>
                            </select>
                            <small>Mantén presionado Ctrl (o Cmd en Mac) para seleccionar múltiples zonas.</small>
                        </div>

                        <div class="form-group">
                            <label for="operator-shift" data-i18n="shift_label">Turno:</label>
                            <select id="operator-shift" required>
                                <option value="" data-i18n="select_shift">Seleccione un turno...</option>
                                <option value="Mañana">Mañana</option>
                                <option value="Tarde">Tarde</option>
                                <option value="Noche">Noche</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button id="capture-btn" class="btn btn-primary">
                            <i class='bx bx-camera'></i>
                            <span data-i18n="capture_face">Capturar Rostro</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- CAPTURA DE CARA -->
            <div id="capture-screen" class="capture-screen">
                <div class="capture-card">
                    <div class="capture-header">
                        <h2 data-i18n="face_capture_title">Captura de Rostro</h2>
                        <p data-i18n="face_capture_instruction">Por favor, colóquese frente a la cámara y asegúrese de que su rostro esté bien iluminado.</p>
                    </div>

                    <div class="video-container">
                        <video id="video" autoplay muted></video>
                        <canvas id="overlay"></canvas>
                        <div class="video-frame"></div>
                    </div>

                    <div class="capture-status">
                        <p id="capture-status" class="status info" data-i18n="waiting_for_detection">Esperando detección facial...</p>
                    </div>

                    <div class="capture-actions">
                        <button id="back-to-register" class="btn btn-outline">
                            <i class='bx bx-arrow-back'></i>
                            <span data-i18n="back_to_register">Volver al Registro</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- CARGA MANUAL -->
        <section id="manual-entry" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2 data-i18n="manual_entry_title">Carga de Ingreso/Egreso Manual</h2>
                    <div class="section-actions">
                         <button id="back-to-menu-from-manual" class="btn btn-outline">
                            <i class='bx bx-arrow-back'></i>
                            <span data-i18n="back_to_menu">Volver al Menú</span>
                        </button>
                    </div>
                </div>
                
                <p class="subtitle" data-i18n="manual_entry_subtitle">Registra aquí todos los ingresos y egresos de manera manual.</p>
        
                <div class="form-card">
                    <h2 data-i18n="new_manual_registration">Nuevo registro manual</h2>
                    <p class="form-subtitle" data-i18n="manual_form_subtitle">Complete los datos para registrar un acceso manual</p>
        
                    <div class="form-group">
                        <label for="manual-legajo" data-i18n="legajo_label">Legajo</label>
                        <div class="input-with-button">
                            <input type="text" id="manual-legajo" data-i18n-placeholder="legajo_placeholder" name="legajo" required>
                            <button type="button" id="manual-search-btn" class="btn-search">
                                <i class='bx bx-search'></i> <span data-i18n="search_button">Buscar</span>
                            </button>
                        </div>
                        <small class="error-msg" data-i18n="legajo_required">El legajo es obligatorio.</small>
                    </div>
        
                    <!-- Contenedor para detalles del empleado -->
                    <div id="manual-employee-details" class="employee-details">
                        <div class="detail-row">
                            <div class="detail-item">
                                <label data-i18n="employee_name_label">Nombre</label>
                                <span id="manual-employee-name">-</span>
                            </div>
                            <div class="detail-item">
                                <label data-i18n="employee_surname_label">Apellido</label>
                                <span id="manual-employee-surname">-</span>
                            </div>
                        </div>
                        <div class="detail-row">
                            <div class="detail-item">
                                <label data-i18n="employee_dni_label">DNI</label>
                                <span id="manual-employee-dni">-</span>
                            </div>
                            <div class="detail-item">
                                <label data-i18n="employee_shift_label">Turno</label>
                                <span id="manual-employee-shift">-</span>
                            </div>
                        </div>
                        <div class="detail-row">
                            <div class="detail-item">
                                <label data-i18n="employee_role_label">Rol</label>
                                <span id="manual-employee-role">-</span>
                            </div>
                            <div class="detail-item">
                                <label data-i18n="employee_access_level_label">Nivel de Acceso</label>
                                <span id="manual-employee-access-level">-</span>
                            </div>
                        </div>
                        <small id="manual-employee-not-found" class="error-msg" data-i18n="employee_not_found">Empleado no encontrado.</small>
                    </div>
        
                    <div class="form-group">
                        <label data-i18n="access_type_label">Tipo de acceso</label>
                        <div class="toggle-buttons">
                            <button type="button" class="toggle-btn manual-toggle-btn" data-type="ingreso">
                                <i class='bx bx-log-in'></i>
                                <span data-i18n="entry_button">Ingreso</span>
                            </button>
                            <button type="button" class="toggle-btn manual-toggle-btn" data-type="egreso">
                                <i class='bx bx-log-out'></i>
                                <span data-i18n="exit_button">Egreso</span>
                            </button>
                        </div>
                        <small class="error-msg" id="manual-type-error" data-i18n="access_type_required">Debe seleccionar un tipo de acceso.</small>
                    </div>
        
                    <div class="form-group">
                        <label for="manual-fecha-hora" data-i18n="datetime_label">Fecha y Hora</label>
                        <input type="datetime-local" id="manual-fecha-hora" name="fecha-hora" required>
                    </div>
        
                    <button type="button" id="manual-submit-btn" class="btn-submit disabled" disabled>
                        <i class='bx bx-check'></i> <span data-i18n="complete_all_fields">Complete todos los campos</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- AUTORIZACIONES -->
        <section id="autorizaciones" class="content-section">
            <div class="section-header">
                <h2 data-i18n="pending_authorizations_title">Autorizaciones Pendientes</h2>
                <div class="section-actions">
                    <button id="refresh-authorizations-btn" class="btn btn-secondary">
                        <i class='bx bx-refresh'></i>
                        <span data-i18n="refresh_authorizations">Actualizar</span>
                    </button>
                </div>
            </div>

            <div id="authorizations-list" class="authorizations-list">
                <!-- Las autorizaciones se cargan aqui -->
            </div>
        </section>

        <!-- ESTADISTICAS -->
        <section id="estadisticas" class="content-section">
            <div class="section-header">
                <h2 data-i18n="statistics">Estadísticas</h2>
            </div>

            <div class="stats-controls">
                <button class="stage-btn active" data-stage="Indicadores">
                    <i class='bx bx-trending-up'></i>
                    <span data-i18n="indicators">Indicadores</span>
                </button>
                <button class="stage-btn" data-stage="Accesos">
                    <i class='bx bx-time'></i>
                    <span data-i18n="stats_access_analysis">Análisis de Accesos</span>
                </button>
                <button class="stage-btn" data-stage="Recepcion">
                    <i class='bx bx-package'></i>
                    <span data-i18n="stats_reception">Recepción</span>
                </button>
                <button class="stage-btn" data-stage="Almacenamiento">
                    <i class='bx bx-store'></i>
                    <span data-i18n="stats_storage">Almacenamiento</span>
                </button>
                <button class="stage-btn" data-stage="Procesamiento">
                    <i class='bx bx-cog'></i>
                    <span data-i18n="stats_processing">Procesamiento</span>
                </button>
                <button class="stage-btn" data-stage="Conservacion">
                    <i class='bx bx-fridge'></i>
                    <span data-i18n="stats_conservation">Conservación</span>
                </button>
                <button class="stage-btn" data-stage="ServicioDespacho">
                    <i class='bx bxs-truck'></i>
                    <span data-i18n="stats_dispatch">Despacho</span>
                </button>
            </div>

            <div id="indicators-view">
                <div class="oee-components-grid">
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="chart_title_availability">Disponibilidad</h3>
                        <div class="chart-card" id="availabilityChartCard">
                            <canvas id="availabilityChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="chart_title_performance">Rendimiento</h3>
                        <div class="chart-card" id="performanceChartCard">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="chart_title_quality">Calidad</h3>
                        <div class="chart-card" id="qualityChartCard">
                            <canvas id="qualityChart"></canvas>
                        </div>
                    </div>
                </div>
                <hr class="section-divider">
                <h2 class="subsection-title" data-i18n="additional_kpis_title">Otros Indicadores Clave de Proceso</h2>
                <div class="oee-components-grid">
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="kpi_rejection_rate">Tasa de Rechazo (Materia Prima)</h3>
                        <div class="chart-card" id="rejectionRateChartCard">
                            <canvas id="rejectionRateChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="kpi_yield">Rendimiento General (Procesamiento)</h3>
                        <div class="chart-card" id="yieldChartCard">
                            <canvas id="yieldChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="kpi_documentation">Cumplimiento de Documentación (Despacho)</h3>
                        <div class="chart-card" id="documentationComplianceChartCard">
                            <canvas id="documentationComplianceChart"></canvas>
                        </div>
                    </div>
                </div>
                <hr class="section-divider">
                <div class="final-oee-container">
                    <h2 class="subsection-title" data-i18n="final_oee_title">OEE General Actual</h2>
                    <div id="final-oee-value" class="final-oee-value">--%</div>
                    <div class="oee-legend">
                        <div class="legend-item"><span class="legend-color" style="background-color: #dc3545;"></span><span data-i18n="oee_legend_bad">&lt; 60% (Malo)</span></div>
                        <div class="legend-item"><span class="legend-color" style="background-color: #ffc107;"></span><span data-i18n="oee_legend_acceptable">60% - 85% (Aceptable)</span></div>
                        <div class="legend-item"><span class="legend-color" style="background-color: #28a745;"></span><span data-i18n="oee_legend_excellent">&gt; 85% (Excelente)</span></div>
                    </div>
                </div>
                <hr class="section-divider">
                <div class="chart-wrapper">
                    <h3 class="chart-title-outside" data-i18n="chart_title_oee_trend">Tendencia OEE General</h3>
                    <div class="chart-container main-chart">
                        <canvas id="oeeTrendChart"></canvas>
                    </div>
                </div>
            </div>
            <div id="stages-view" class="stages-view" style="display: none;">
                <div class="stage-charts-grid" id="recepcion-charts">
                    <div class="chart-card"><canvas id="recepcionChart1"></canvas></div>
                    <div class="chart-card"><canvas id="recepcionChart2"></canvas></div>
                    <div class="chart-card"><canvas id="recepcionChart3"></canvas></div>
                </div>
                <div class="stage-charts-grid" id="almacenamiento-charts">
                    <div class="chart-card"><canvas id="almacenamientoChart1"></canvas></div>
                    <div class="chart-card"><canvas id="almacenamientoChart2"></canvas></div>
                    <div class="chart-card"><canvas id="almacenamientoChart3"></canvas></div>
                </div>
                <div class="stage-charts-grid" id="procesamiento-charts">
                    <div class="chart-card"><canvas id="procesamientoChart1"></canvas></div>
                    <div class="chart-card"><canvas id="procesamientoChart2"></canvas></div>
                    <div class="chart-card"><canvas id="procesamientoChart3"></canvas></div>
                </div>
                <div class="stage-charts-grid" id="conservacion-charts">
                    <div class="chart-card"><canvas id="conservacionChart1"></canvas></div>
                    <div class="chart-card"><canvas id="conservacionChart2"></canvas></div>
                    <div class="chart-card"><canvas id="conservacionChart3"></canvas></div>
                </div>
                <div class="stage-charts-grid" id="despacho-charts">
                    <div class="chart-card"><canvas id="despachoChart1"></canvas></div>
                    <div class="chart-card"><canvas id="despachoChart2"></canvas></div>
                    <div class="chart-card"><canvas id="despachoChart3"></canvas></div>
                </div>
            </div>
            <div id="access-charts-view" style="display: none;">
                <div id="access-stats-placeholder"></div>

                <div id="access-insights-container" class="insights-container" style="display: none;">
                    <h3 data-i18n="key_alerts_observations">Alertas y Observaciones Clave</h3>
                    <div id="access-insights-list" class="insights-list"></div>
                </div>

                <div class="filters-card">
                    <h3 data-i18n="access_alerts_config_title">Configuración de Alertas de Acceso</h3>
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label for="facial-recognition-threshold" data-i18n="alert_label_facial_recognition">Umbral de Alerta de Reconocimiento Facial (%)</label>
                            <input type="number" id="facial-recognition-threshold" value="50" min="0" max="100">
                        </div>
                    </div>
                </div>
                
                <hr class="section-divider">
                <div class="oee-components-grid">
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="chart_title_arrivals">Llegadas</h3>
                        <div class="chart-card">
                            <canvas id="arrivalsChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="chart_title_employees_by_shift">Empleados por Turno</h3>
                        <div class="chart-card">
                            <canvas id="shiftChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <h3 class="chart-title-outside" data-i18n="chart_title_employees_by_role">Empleados por Rol</h3>
                        <div class="chart-card">
                            <canvas id="roleChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div id="statsFallback" class="chart-fallback" data-i18n="stats_chart_fallback">Gráfico de estadísticas se mostraría aquí</div>

            <div id="indicator-insights-container" class="insights-container" style="display: none;">
                <h3 data-i18n="key_alerts_observations">Alertas y Observaciones Clave</h3>
                <div id="indicator-insights-list" class="insights-list"></div>
            </div>
            
            <div id="indicator-alerts-config-container" class="filters-card" style="display: none;">
                <h3 data-i18n="alerts_config_title">Configuración de Alertas</h3>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label for="rejection-threshold" data-i18n="alert_label_rejection">Umbral de Rechazo de Materia Prima (%)</label>
                        <input type="number" id="rejection-threshold" value="20" min="0" max="100">
                    </div>
                    <div class="filter-group">
                        <label for="waste-threshold" data-i18n="alert_label_waste">Umbral de Desperdicio en Procesamiento (%)</label>
                        <input type="number" id="waste-threshold" value="25" min="0" max="100">
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/face-api.js/dist/face-api.min.js"></script>
    <script type="module" src="js/menu.js"></script>
</body>

</html>